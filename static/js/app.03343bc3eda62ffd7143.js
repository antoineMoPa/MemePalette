webpackJsonp([1],{Etbu:function(e,t){},NHnr:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("7+uW"),s=a("mvHQ"),i=a.n(s),o={name:"Nav",data:function(){return{search:""}},watch:{search:function(e){window.localStorage.search=e,this.$emit("search",e)}},mounted:function(){void 0!=window.localStorage.search&&(this.search=window.localStorage.search),document.querySelectorAll(".nav-search-input")[0].focus()}},r={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("header",{staticClass:"mdl-layout__header"},[a("div",{staticClass:"mdl-layout__header-row"},[a("i",{staticClass:"material-icons",staticStyle:{position:"relative",top:"-2px","font-size":"35px","margin-right":"10px"}},[e._v("burst_mode")]),e._v(" "),a("a",{staticClass:"mdl-layout-title",attrs:{href:"?home"}},[e._v("MemePalette")]),e._v("\n     \n    "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.search,expression:"search"}],staticClass:"mdl-textfield__input nav-search-input",attrs:{type:"text",placeholder:"search"},domProps:{value:e.search},on:{input:function(t){t.target.composing||(e.search=t.target.value)}}}),e._v(" "),a("div",{staticClass:"mdl-layout-spacer"}),e._v(" "),e._m(0),e._v(" "),e._m(1),e._v(" "),e._m(2)])])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("nav",{staticClass:"mdl-navigation"},[t("a",{staticClass:"mdl-navigation__link",attrs:{href:"?about"}},[t("i",{staticClass:"material-icons"},[this._v("info")]),this._v(" About")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("nav",{staticClass:"mdl-navigation"},[t("a",{staticClass:"mdl-navigation__link",attrs:{href:"?clear"}},[t("i",{staticClass:"material-icons"},[this._v("delete")]),this._v(" Clear All")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("nav",{staticClass:"mdl-navigation"},[t("a",{staticClass:"mdl-navigation__link",attrs:{href:"https://github.com/antoineMoPa/MemePalette"}},[t("i",{staticClass:"material-icons"},[this._v("code")]),this._v(" Github")])])}]};var l=a("VU/8")(o,r,!1,function(e){a("qzxg")},"data-v-a4d97f00",null).exports,c={name:"App",components:{Nav:l},data:function(){return{search:"",images:[],shown_popup:!1}},methods:{onSearch:function(e){this.search=e},newFile:function(e){var t=this,a=new FileReader;a.onload=function(a){var n={id:t.images.length,name:e.name,dataURL:a.target.result};t.images.push(n),t.update_ls()},a.readAsDataURL(e),document.querySelectorAll(".dz-preview").forEach(function(e){e.parentNode.removeChild(e)})},update_ls:function(){var e=this,t=[],a=0;this.images.map(function(e){t.push({id:a,name:e.name,dataURL:e.dataURL}),a++}),navigator.storage.persist().then(function(a){a?caches.open("images").then(function(e){var a=new Response(i()(t));return e.put("images",a)}):e.shown_popup||(e.shown_popup=!0,alert("Image might not be stored permanently. (Note: in chrome, you have to bookmark the site)"))})},deleteimage:function(e){this.images.splice(e,1)},is_shown:function(e){var t=this.search;return""==t||levenrotate(t,e)<Math.floor(.2*t.length)+1}},watch:{images:function(){this.update_ls()}},mounted:function(){var e=this;new Dropzone("#dropzone",{url:"#",maxFilesize:4,uploadMultiple:!0,parallelUploads:100,maxFiles:100,init:function(){this.on("addedfile",e.newFile)}});try{caches.open("images").then(function(t){t.match("images").then(function(t){t.json().then(function(t){t.map(function(t){e.images.push(t)})})})})}catch(e){console.log("no prior readable data")}}},u={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"app"}},[a("div",{staticClass:"mdl-layout mdl-js-layout mdl-layout--fixed-header"},[a("Nav",{on:{search:e.onSearch}})],1),e._v(" "),a("main",{staticClass:"mdl-layout__content"},[a("div",{staticClass:"page-content"},[e._l(e.images,function(t){return a("div",{key:t.id,class:"meme-block "+(e.is_shown(t.name)?"":"not-shown")},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.name,expression:"image.name"}],staticClass:"name-input",domProps:{value:t.name},on:{input:function(a){a.target.composing||e.$set(t,"name",a.target.value)}}}),e._v(" "),a("img",{staticClass:"meme-image",attrs:{src:t.dataURL}}),e._v(" "),a("a",{staticClass:"delete-link",attrs:{href:"#",onclick:"event.preventDefault()"},on:{click:function(a){e.deleteimage(t.id)}}},[e._v("Delete")])])}),e._v(" "),0==e.images.length?a("p",[a("br"),e._v("\n        You have no images. Start uploading pictures to see them appear here!\n      ")]):e._e(),e._v(" "),a("h2",[e._v("Upload")]),e._v(" "),a("p",[e._v("Click in the box bellow or drag and drop images in the box.")]),e._v(" "),a("div",{staticClass:"dropzone",attrs:{id:"dropzone"}})],2)])])},staticRenderFns:[]};var d={name:"About",components:{Nav:l},data:function(){return{search:"",images:[]}},methods:{onSearch:function(e){window.location.href="/"},download:function(){caches.open("images").then(function(e){e.match("images").then(function(e){e.json().then(function(e){var t=new JSZip;e.map(function(e){t.file(e.name,e.dataURL.replace(/^data:image.*;base64,/,""),{base64:!0})}),t.generateAsync({type:"blob"}).then(function(e){saveAs(e,"memepalette_backup.zip")})})})})}}},h={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"app"}},[a("div",{staticClass:"mdl-layout mdl-js-layout mdl-layout--fixed-header"},[a("Nav",{on:{search:e.onSearch}})],1),e._v(" "),a("main",{staticClass:"mdl-layout__content"},[a("div",{staticClass:"page-content"},[a("h1",[e._v("The problem")]),e._v(" "),a("p",[e._v("A lot of people have family/friend memes that can be shared in group conversations.")]),e._v(" "),a("p",[e._v("I wanted to have a quick tool to store and search memes.")]),e._v(" "),a("h1",[e._v("Solution: MemePalette")]),e._v(" "),a("p",{staticClass:"instructions"},[e._v("MemePalette is a tiny app that lets you quickly add images and search them.")]),e._v(" "),a("p",{staticClass:"instructions"},[e._v("The goal is to have quick response images available a few keystrokes away.")]),e._v(" "),a("p",{staticClass:"instructions"},[e._v("The images are stored in your browser's cache.")]),e._v(" "),a("h3",[e._v("Instructions")]),e._v(" "),a("p",{staticClass:"instructions"},[e._v("Right-Click -> Copy and paste in any application!")]),e._v(" "),a("p",{staticClass:"instructions"},[e._v("Click image title to change it.")]),e._v(" "),a("h3",[e._v("Persisting storage in Chrome/Chromium")]),e._v(" "),e._m(0),e._v(" "),a("p",[e._v("Chrome has a weird behaviour on this one, I suggest just using Firefox, a free independent browser.")]),e._v(" "),a("h3",[e._v("Download a copy of your memes")]),e._v(" "),a("p",[e._v("Download as a zip folder, extract and re-upload files to other computers.")]),e._v(" "),a("p",[a("button",{staticClass:"mdl-button mdl-js-button mdl-button--raised mdl-button--colored",on:{click:e.download}},[e._v("\n              Download archive\n          ")])]),e._v(" "),a("br"),a("br")])])])},staticRenderFns:[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("p",[e._v("\n          For Chrome to allow persistent storage, according to \n          "),a("a",{attrs:{href:"https://developers.google.com/web/updates/2016/06/persistent-storage"}},[e._v("\n          Google Developers blog")]),e._v(" \n          either make sure that :\n          "),a("ul",[a("li",[e._v("The site is bookmarked (and the user has 5 or less bookmarks)")]),e._v(" "),a("li",[e._v("The site has high site engagement")]),e._v(" "),a("li",[e._v("The site has been added to home screen")])])])}]};var m={name:"Clear",components:{Nav:l},data:function(){return{search:""}},methods:{onSearch:function(e){window.location.href="/"},clear:function(){caches.delete("images").then(function(e){alert("Everything is gone!"),window.location.reload()})}}},v={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"app"}},[t("div",{staticClass:"mdl-layout mdl-js-layout mdl-layout--fixed-header"},[t("Nav",{on:{search:this.onSearch}})],1),this._v(" "),t("main",{staticClass:"mdl-layout__content"},[t("div",{staticClass:"page-content"},[t("h3",[this._v("Delete all stored gifs")]),this._v(" "),t("p",[t("button",{staticClass:"mdl-button mdl-js-button mdl-button--raised mdl-button--colored",on:{click:this.clear}},[this._v("\n              Clear All Data\n          ")])]),this._v(" "),t("br"),t("br")])])])},staticRenderFns:[]};var p={name:"Router",components:{App:a("VU/8")(c,u,!1,function(e){a("T9xl")},null,null).exports,About:a("VU/8")(d,h,!1,function(e){a("ONUw")},"data-v-812baeb2",null).exports,Clear:a("VU/8")(m,v,!1,function(e){a("QMfr")},"data-v-58517862",null).exports},data:function(){return{route:"",images:[]}},mounted:function(){var e=window.location.href.match(/\?.*$/);this.route=null==e?"/":e[0].replace("?","").replace("/MemePalette","")}},_={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",["about"==this.route?t("About"):"clear"==this.route?t("Clear"):t("App")],1)},staticRenderFns:[]};var f=a("VU/8")(p,_,!1,function(e){a("Etbu")},null,null).exports;n.a.config.productionTip=!1,window.Dropzone.autoDiscover=!1,new n.a({el:"#app",components:{Router:f},template:"<Router/>"})},ONUw:function(e,t){},QMfr:function(e,t){},T9xl:function(e,t){},qzxg:function(e,t){}},["NHnr"]);
//# sourceMappingURL=app.03343bc3eda62ffd7143.js.map